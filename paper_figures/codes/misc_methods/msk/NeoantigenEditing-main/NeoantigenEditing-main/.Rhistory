TCR_data <- read_excel("C:/Users/amita/Downloads/epitope_analysis/antigen-availability-master/antigen-availability-master/TCR-crossreactivity/TCR_epitope_database.xlsx")
library(readxl)
TCR_data <- read_excel("C:/Users/amita/Downloads/epitope_analysis/antigen-availability-master/antigen-availability-master/TCR-crossreactivity/TCR_epitope_database.xlsx")
TCR_names <- unique(TCR_data$tcr_name)
source("C:/Users/amita/Downloads/epitope_analysis/antigen-availability-master/antigen-availability-master/TCR-crossreactivity/final_codes/local_outputs/misc_methods/msk/NeoantigenEditing-main/NeoantigenEditing-main/epitope_distance_to_auc.R")
source("C:/Users/amita/Downloads/epitope_analysis/antigen-availability-master/antigen-availability-master/TCR-crossreactivity/final_codes/local_outputs/misc_methods/msk/NeoantigenEditing-main/NeoantigenEditing-main/epitope_distance_to_auc.R")
epitope_distance_data$seq
source("C:/Users/amita/Downloads/epitope_analysis/antigen-availability-master/antigen-availability-master/TCR-crossreactivity/final_codes/local_outputs/misc_methods/msk/NeoantigenEditing-main/NeoantigenEditing-main/epitope_distance_to_auc.R")
epitope_distance_data$seq
TCR_names
TCR_names[c(6,12,48,52,55,58,59,60,62,63,64,65)]
TCR_names[tcr_list <- c(6,12,52,55,58,59,60,62,64,65)
]
source("C:/Users/amita/Downloads/epitope_analysis/antigen-availability-master/antigen-availability-master/TCR-crossreactivity/final_codes/local_outputs/misc_methods/msk/NeoantigenEditing-main/NeoantigenEditing-main/epitope_distance_to_auc.R")
View(aucs_msk)
View(aucs_msk)
save(aucs_msk,tcr_list,
file=paste0("C:/Users/amita/Downloads/epitope_analysis/",
"antigen-availability-master/antigen-availability-master/",
"TCR-crossreactivity/final_codes/msk_outputs.rda"))
TCR_data <- read_excel("C:/Users/amita/Downloads/epitope_analysis/antigen-availability-master/antigen-availability-master/TCR-crossreactivity/TCR_epitope_database.xlsx")
rm(list=ls())#Clear environment
library(readxl)
TCR_data <- read_excel("C:/Users/amita/Downloads/epitope_analysis/antigen-availability-master/antigen-availability-master/TCR-crossreactivity/TCR_epitope_database.xlsx")
TCR_names <- unique(TCR_data$tcr_name)
TCR_index <- 67
peptide_list <- TCR_data$peptide[TCR_data$tcr_name==TCR_names[TCR_index]]
peptide_activity <- TCR_data$peptide_activity[TCR_data$tcr_name==TCR_names[TCR_index]]
# Define the index peptide as the one with the highest activity
index_peptide <- TCR_data$peptide[TCR_data$tcr_name==TCR_names[TCR_index]][which.max(peptide_activity)]
#Normalize peptide activities to the index activity
peptide_activity<-peptide_activity/(peptide_activity[which.max(peptide_activity)])
# Indicate peptide binding categories
peptide_binding_category <- matrix(2,nrow=length(peptide_list),ncol=1)#Initialize with all weak binders
peptide_binding_category[peptide_activity<0.1]=1 #Non-binder
peptide_binding_category[peptide_activity>=0.5]=3 #strong-binder
peptide_binding_category<- as.integer(peptide_binding_category)
table(peptide_binding_category)
TCR_index <- 68
peptide_list <- TCR_data$peptide[TCR_data$tcr_name==TCR_names[TCR_index]]
peptide_activity <- TCR_data$peptide_activity[TCR_data$tcr_name==TCR_names[TCR_index]]
# Define the index peptide as the one with the highest activity
index_peptide <- TCR_data$peptide[TCR_data$tcr_name==TCR_names[TCR_index]][which.max(peptide_activity)]
#Normalize peptide activities to the index activity
peptide_activity<-peptide_activity/(peptide_activity[which.max(peptide_activity)])
# Indicate peptide binding categories
peptide_binding_category <- matrix(2,nrow=length(peptide_list),ncol=1)#Initialize with all weak binders
peptide_binding_category[peptide_activity<0.1]=1 #Non-binder
peptide_binding_category[peptide_activity>=0.5]=3 #strong-binder
peptide_binding_category<- as.integer(peptide_binding_category)
table(peptide_binding_category)
TCR_index <- 69
peptide_list <- TCR_data$peptide[TCR_data$tcr_name==TCR_names[TCR_index]]
peptide_activity <- TCR_data$peptide_activity[TCR_data$tcr_name==TCR_names[TCR_index]]
# Define the index peptide as the one with the highest activity
index_peptide <- TCR_data$peptide[TCR_data$tcr_name==TCR_names[TCR_index]][which.max(peptide_activity)]
#Normalize peptide activities to the index activity
peptide_activity<-peptide_activity/(peptide_activity[which.max(peptide_activity)])
# Indicate peptide binding categories
peptide_binding_category <- matrix(2,nrow=length(peptide_list),ncol=1)#Initialize with all weak binders
peptide_binding_category[peptide_activity<0.1]=1 #Non-binder
peptide_binding_category[peptide_activity>=0.5]=3 #strong-binder
peptide_binding_category<- as.integer(peptide_binding_category)
table(peptide_binding_category)
source("C:/Users/amita/Downloads/epitope_analysis/antigen-availability-master/antigen-availability-master/TCR-crossreactivity/final_codes/local_outputs/misc_methods/msk/NeoantigenEditing-main/NeoantigenEditing-main/epitope_distance_to_auc.R")
source("C:/Users/amita/Downloads/epitope_analysis/antigen-availability-master/antigen-availability-master/TCR-crossreactivity/final_codes/local_outputs/misc_methods/msk/NeoantigenEditing-main/NeoantigenEditing-main/epitope_distance_to_auc.R")
which(epitope_distance_data$seq%in%index_peptide)
epitope_distance_data$seqs
source("C:/Users/amita/Downloads/epitope_analysis/antigen-availability-master/antigen-availability-master/TCR-crossreactivity/final_codes/local_outputs/misc_methods/msk/NeoantigenEditing-main/NeoantigenEditing-main/epitope_distance_to_auc.R")
